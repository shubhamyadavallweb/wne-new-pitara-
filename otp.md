मैं आपकी कोडबेस में OTP और फोन लॉगिन से संबंधित कोड को खोजूंगा।
Search files...
मैंने आपकी कोडबेस को देखा है और मैं आपको बता सकता हूं कि OTP लॉगिन का काफी अच्छा इम्प्लीमेंटेशन पहले से मौजूद है। मैं आपको इसके बारे में विस्तार से बताता हूं:

1. **फोन लॉगिन स्क्रीन (`apps/mobile/app/(auth)/phone.tsx`)**:
   - यह स्क्रीन फोन नंबर इनपुट लेता है
   - फोन नंबर वैलिडेशन करता है
   - डिफ़ॉल्ट रूप से +91 (भारतीय) कंट्री कोड का उपयोग करता है
   - OTP भेजने के लिए Supabase एज फंक्शन को कॉल करता है

2. **OTP वेरिफिकेशन स्क्रीन (`apps/mobile/app/(auth)/verify-otp.tsx`)**:
   - 6 डिजिट का OTP इनपुट लेता है
   - 60 सेकंड का टाइमर है OTP रीसेंड के लिए
   - मैक्सिमम 5 अटेम्प्ट्स की लिमिट है
   - डेवलपमेंट मोड में टेस्ट OTP (123456) का सपोर्ट है

3. **बैकएंड एज फंक्शंस**:
   - `send-otp` फंक्शन (`supabase/functions/send-otp/index.ts`):
     - Nimbus SMS API का उपयोग करके OTP भेजता है
     - OTP जनरेट करता है और Supabase डेटाबेस में स्टोर करता है

   - `verify-otp` फंक्शन (`supabase/functions/verify-otp/index.ts`):
     - OTP की वैधता चेक करता है
     - यूजर को ऑथेंटिकेट करता है
     - नए यूजर के लिए अकाउंट बनाता है
     - सेशन टोकन जनरेट करता है

4. **टेस्टिंग टूल्स**:
   - `test-otp.js`: नॉन-इंटरैक्टिव टेस्टिंग के लिए
   - `test-otp-interactive.js`: इंटरैक्टिव टेस्टिंग के लिए

सिस्टम पूरी तरह से फंक्शनल है और निम्नलिखित फीचर्स प्रदान करता है:
- फोन नंबर वैलिडेशन
- SMS के माध्यम से OTP भेजना
- OTP वेरिफिकेशन
- रेट लिमिटिंग
- रीसेंड फंक्शनैलिटी
- डेवलपमेंट मोड में टेस्टिंग सपोर्ट
- एरर हैंडलिंग
- डीबग इन्फॉर्मेशन

क्या आप किसी विशेष फीचर या फंक्शनैलिटी के बारे में और जानना चाहेंगे?